<html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><title>MASTER: Skill bundle + agents chuẩn (Intake BMAD + Research + Spec Kit + Orchestrator + UI/UX + QA Gate)</title><style>
/* cspell:disable-file */
/* webkit printing magic: print all background colors */
html {
	-webkit-print-color-adjust: exact;
}
* {
	box-sizing: border-box;
	-webkit-print-color-adjust: exact;
}

html,
body {
	margin: 0;
	padding: 0;
}
@media only screen {
	body {
		margin: 2em auto;
		max-width: 900px;
		color: rgb(55, 53, 47);
	}
}

body {
	line-height: 1.5;
	white-space: pre-wrap;
}

a,
a.visited {
	color: inherit;
	text-decoration: underline;
}

.pdf-relative-link-path {
	font-size: 80%;
	color: #444;
}

h1,
h2,
h3 {
	letter-spacing: -0.01em;
	line-height: 1.2;
	font-weight: 600;
	margin-bottom: 0;
}

/* Override strong tags inside headings to maintain consistent weight */
h1 strong,
h2 strong,
h3 strong {
	font-weight: 600;
}

.page-title {
	font-size: 2.5rem;
	font-weight: 700;
	margin-top: 0;
	margin-bottom: 0.75em;
}

h1 {
	font-size: 1.875rem;
	margin-top: 1.875rem;
}

h2 {
	font-size: 1.5rem;
	margin-top: 1.5rem;
}

h3 {
	font-size: 1.25rem;
	margin-top: 1.25rem;
}

.source {
	border: 1px solid #ddd;
	border-radius: 3px;
	padding: 1.5em;
	word-break: break-all;
}

.callout {
	border-radius: 10px;
	padding: 1rem;
}

figure {
	margin: 1.25em 0;
	page-break-inside: avoid;
}

figcaption {
	opacity: 0.5;
	font-size: 85%;
	margin-top: 0.5em;
}

mark {
	background-color: transparent;
}

.indented {
	padding-left: 1.5em;
}

hr {
	background: transparent;
	display: block;
	width: 100%;
	height: 1px;
	visibility: visible;
	border: none;
	border-bottom: 1px solid rgba(55, 53, 47, 0.09);
}

img {
	max-width: 100%;
}

@media only print {
	img {
		max-height: 100vh;
		object-fit: contain;
	}
}

@page {
	margin: 1in;
}

.collection-content {
	font-size: 0.875rem;
}

.collection-content td {
	white-space: pre-wrap;
	word-break: break-word;
}

.column-list {
	display: flex;
	justify-content: space-between;
}

.column {
	padding: 0 1em;
}

.column:first-child {
	padding-left: 0;
}

.column:last-child {
	padding-right: 0;
}

.table_of_contents-item {
	display: block;
	font-size: 0.875rem;
	line-height: 1.3;
	padding: 0.125rem;
}

.table_of_contents-indent-1 {
	margin-left: 1.5rem;
}

.table_of_contents-indent-2 {
	margin-left: 3rem;
}

.table_of_contents-indent-3 {
	margin-left: 4.5rem;
}

.table_of_contents-link {
	text-decoration: none;
	opacity: 0.7;
	border-bottom: 1px solid rgba(55, 53, 47, 0.18);
}

table,
th,
td {
	border: 1px solid rgba(55, 53, 47, 0.09);
	border-collapse: collapse;
}

table {
	border-left: none;
	border-right: none;
}

th,
td {
	font-weight: normal;
	padding: 0.25em 0.5em;
	line-height: 1.5;
	min-height: 1.5em;
	text-align: left;
}

th {
	color: rgba(55, 53, 47, 0.6);
}

ol,
ul {
	margin: 0;
	margin-block-start: 0.6em;
	margin-block-end: 0.6em;
}

li > ol:first-child,
li > ul:first-child {
	margin-block-start: 0.6em;
}

ul > li {
	list-style: disc;
}

ul.to-do-list {
	padding-inline-start: 0;
}

ul.to-do-list > li {
	list-style: none;
}

.to-do-children-checked {
	text-decoration: line-through;
	opacity: 0.375;
}

ul.toggle > li {
	list-style: none;
}

ul {
	padding-inline-start: 1.7em;
}

ul > li {
	padding-left: 0.1em;
}

ol {
	padding-inline-start: 1.6em;
}

ol > li {
	padding-left: 0.2em;
}

.mono ol {
	padding-inline-start: 2em;
}

.mono ol > li {
	text-indent: -0.4em;
}

.toggle {
	padding-inline-start: 0em;
	list-style-type: none;
}

/* Indent toggle children */
.toggle > li > details {
	padding-left: 1.7em;
}

.toggle > li > details > summary {
	margin-left: -1.1em;
}

.selected-value {
	display: inline-block;
	padding: 0 0.5em;
	background: rgba(206, 205, 202, 0.5);
	border-radius: 3px;
	margin-right: 0.5em;
	margin-top: 0.3em;
	margin-bottom: 0.3em;
	white-space: nowrap;
}

.collection-title {
	display: inline-block;
	margin-right: 1em;
}

.page-description {
	margin-bottom: 2em;
}

.simple-table {
	margin-top: 1em;
	font-size: 0.875rem;
	empty-cells: show;
}
.simple-table td {
	height: 29px;
	min-width: 120px;
}

.simple-table th {
	height: 29px;
	min-width: 120px;
}

.simple-table-header-color {
	background: rgb(247, 246, 243);
	color: black;
}
.simple-table-header {
	font-weight: 500;
}

time {
	opacity: 0.5;
}

.icon {
	display: inline-flex;
	align-items: center;
	justify-content: center;
	max-width: 1.2em;
	max-height: 1.2em;
	text-decoration: none;
	vertical-align: text-bottom;
	margin-right: 0.5em;
}

img.icon {
	border-radius: 3px;
}

.callout img.notion-static-icon {
	width: 1em;
	height: 1em;
}

.callout p {
	margin: 0;
}

.callout h1,
.callout h2,
.callout h3 {
	margin: 0 0 0.6rem;
}

.user-icon {
	width: 1.5em;
	height: 1.5em;
	border-radius: 100%;
	margin-right: 0.5rem;
}

.user-icon-inner {
	font-size: 0.8em;
}

.text-icon {
	border: 1px solid #000;
	text-align: center;
}

.page-cover-image {
	display: block;
	object-fit: cover;
	width: 100%;
	max-height: 30vh;
}

.page-header-icon {
	font-size: 3rem;
	margin-bottom: 1rem;
}

.page-header-icon-with-cover {
	margin-top: -0.72em;
	margin-left: 0.07em;
}

.page-header-icon img {
	border-radius: 3px;
}

.link-to-page {
	margin: 1em 0;
	padding: 0;
	border: none;
	font-weight: 500;
}

p > .user {
	opacity: 0.5;
}

td > .user,
td > time {
	white-space: nowrap;
}

input[type="checkbox"] {
	transform: scale(1.5);
	margin-right: 0.6em;
	vertical-align: middle;
}

p {
	margin-top: 0.5em;
	margin-bottom: 0.5em;
}

.image {
	border: none;
	margin: 1.5em 0;
	padding: 0;
	border-radius: 0;
	text-align: center;
}

.code,
code {
	background: rgba(135, 131, 120, 0.15);
	border-radius: 3px;
	padding: 0.2em 0.4em;
	border-radius: 3px;
	font-size: 85%;
	tab-size: 2;
}

code {
	color: #eb5757;
}

.code {
	padding: 1.5em 1em;
}

.code-wrap {
	white-space: pre-wrap;
	word-break: break-all;
}

.code > code {
	background: none;
	padding: 0;
	font-size: 100%;
	color: inherit;
}

blockquote {
	font-size: 1em;
	margin: 1em 0;
	padding-left: 1em;
	border-left: 3px solid rgb(55, 53, 47);
}

blockquote.quote-large {
	font-size: 1.25em;
}

.bookmark {
	text-decoration: none;
	max-height: 8em;
	padding: 0;
	display: flex;
	width: 100%;
	align-items: stretch;
}

.bookmark-title {
	font-size: 0.85em;
	overflow: hidden;
	text-overflow: ellipsis;
	height: 1.75em;
	white-space: nowrap;
}

.bookmark-text {
	display: flex;
	flex-direction: column;
}

.bookmark-info {
	flex: 4 1 180px;
	padding: 12px 14px 14px;
	display: flex;
	flex-direction: column;
	justify-content: space-between;
}

.bookmark-image {
	width: 33%;
	flex: 1 1 180px;
	display: block;
	position: relative;
	object-fit: cover;
	border-radius: 1px;
}

.bookmark-description {
	color: rgba(55, 53, 47, 0.6);
	font-size: 0.75em;
	overflow: hidden;
	max-height: 4.5em;
	word-break: break-word;
}

.bookmark-href {
	font-size: 0.75em;
	margin-top: 0.25em;
}

.sans { font-family: ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI Variable Display", "Segoe UI", Helvetica, "Apple Color Emoji", "Noto Sans Arabic", "Noto Sans Hebrew", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol"; }
.code { font-family: "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace; }
.serif { font-family: Lyon-Text, Georgia, ui-serif, serif; }
.mono { font-family: iawriter-mono, Nitti, Menlo, Courier, monospace; }
.pdf .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI Variable Display", "Segoe UI", Helvetica, "Apple Color Emoji", "Noto Sans Arabic", "Noto Sans Hebrew", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK JP'; }
.pdf:lang(zh-CN) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI Variable Display", "Segoe UI", Helvetica, "Apple Color Emoji", "Noto Sans Arabic", "Noto Sans Hebrew", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK SC'; }
.pdf:lang(zh-TW) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI Variable Display", "Segoe UI", Helvetica, "Apple Color Emoji", "Noto Sans Arabic", "Noto Sans Hebrew", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK TC'; }
.pdf:lang(ko-KR) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI Variable Display", "Segoe UI", Helvetica, "Apple Color Emoji", "Noto Sans Arabic", "Noto Sans Hebrew", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK KR'; }
.pdf .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK JP'; }
.pdf:lang(zh-CN) .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK SC'; }
.pdf:lang(zh-TW) .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK TC'; }
.pdf:lang(ko-KR) .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK KR'; }
.pdf .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK JP'; }
.pdf:lang(zh-CN) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK SC'; }
.pdf:lang(zh-TW) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK TC'; }
.pdf:lang(ko-KR) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK KR'; }
.pdf .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK JP'; }
.pdf:lang(zh-CN) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK SC'; }
.pdf:lang(zh-TW) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK TC'; }
.pdf:lang(ko-KR) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK KR'; }
.highlight-default {
	color: rgba(44, 44, 43, 1);
}
.highlight-gray {
	color: rgba(125, 122, 117, 1);
	fill: rgba(125, 122, 117, 1);
}
.highlight-brown {
	color: rgba(159, 118, 90, 1);
	fill: rgba(159, 118, 90, 1);
}
.highlight-orange {
	color: rgba(210, 123, 45, 1);
	fill: rgba(210, 123, 45, 1);
}
.highlight-yellow {
	color: rgba(203, 148, 52, 1);
	fill: rgba(203, 148, 52, 1);
}
.highlight-teal {
	color: rgba(80, 148, 110, 1);
	fill: rgba(80, 148, 110, 1);
}
.highlight-blue {
	color: rgba(56, 125, 201, 1);
	fill: rgba(56, 125, 201, 1);
}
.highlight-purple {
	color: rgba(154, 107, 180, 1);
	fill: rgba(154, 107, 180, 1);
}
.highlight-pink {
	color: rgba(193, 76, 138, 1);
	fill: rgba(193, 76, 138, 1);
}
.highlight-red {
	color: rgba(207, 81, 72, 1);
	fill: rgba(207, 81, 72, 1);
}
.highlight-default_background {
	color: rgba(44, 44, 43, 1);
}
.highlight-gray_background {
	background: rgba(42, 28, 0, 0.07);
}
.highlight-brown_background {
	background: rgba(139, 46, 0, 0.086);
}
.highlight-orange_background {
	background: rgba(224, 101, 1, 0.129);
}
.highlight-yellow_background {
	background: rgba(211, 168, 0, 0.137);
}
.highlight-teal_background {
	background: rgba(0, 100, 45, 0.09);
}
.highlight-blue_background {
	background: rgba(0, 124, 215, 0.094);
}
.highlight-purple_background {
	background: rgba(102, 0, 178, 0.078);
}
.highlight-pink_background {
	background: rgba(197, 0, 93, 0.086);
}
.highlight-red_background {
	background: rgba(223, 22, 0, 0.094);
}
.block-color-default {
	color: inherit;
	fill: inherit;
}
.block-color-gray {
	color: rgba(125, 122, 117, 1);
	fill: rgba(125, 122, 117, 1);
}
.block-color-brown {
	color: rgba(159, 118, 90, 1);
	fill: rgba(159, 118, 90, 1);
}
.block-color-orange {
	color: rgba(210, 123, 45, 1);
	fill: rgba(210, 123, 45, 1);
}
.block-color-yellow {
	color: rgba(203, 148, 52, 1);
	fill: rgba(203, 148, 52, 1);
}
.block-color-teal {
	color: rgba(80, 148, 110, 1);
	fill: rgba(80, 148, 110, 1);
}
.block-color-blue {
	color: rgba(56, 125, 201, 1);
	fill: rgba(56, 125, 201, 1);
}
.block-color-purple {
	color: rgba(154, 107, 180, 1);
	fill: rgba(154, 107, 180, 1);
}
.block-color-pink {
	color: rgba(193, 76, 138, 1);
	fill: rgba(193, 76, 138, 1);
}
.block-color-red {
	color: rgba(207, 81, 72, 1);
	fill: rgba(207, 81, 72, 1);
}
.block-color-default_background {
	color: inherit;
	fill: inherit;
}
.block-color-gray_background {
	background: rgba(240, 239, 237, 1);
}
.block-color-brown_background {
	background: rgba(245, 237, 233, 1);
}
.block-color-orange_background {
	background: rgba(251, 235, 222, 1);
}
.block-color-yellow_background {
	background: rgba(249, 243, 220, 1);
}
.block-color-teal_background {
	background: rgba(232, 241, 236, 1);
}
.block-color-blue_background {
	background: rgba(229, 242, 252, 1);
}
.block-color-purple_background {
	background: rgba(243, 235, 249, 1);
}
.block-color-pink_background {
	background: rgba(250, 233, 241, 1);
}
.block-color-red_background {
	background: rgba(252, 233, 231, 1);
}
.select-value-color-default { background-color: rgba(42, 28, 0, 0.07); }
.select-value-color-gray { background-color: rgba(28, 19, 1, 0.11); }
.select-value-color-brown { background-color: rgba(127, 51, 0, 0.156); }
.select-value-color-orange { background-color: rgba(196, 88, 0, 0.203); }
.select-value-color-yellow { background-color: rgba(209, 156, 0, 0.282); }
.select-value-color-green { background-color: rgba(0, 96, 38, 0.156); }
.select-value-color-blue { background-color: rgba(0, 118, 217, 0.203); }
.select-value-color-purple { background-color: rgba(92, 0, 163, 0.141); }
.select-value-color-pink { background-color: rgba(183, 0, 78, 0.152); }
.select-value-color-red { background-color: rgba(206, 24, 0, 0.164); }

.checkbox {
	display: inline-flex;
	vertical-align: text-bottom;
	width: 16;
	height: 16;
	background-size: 16px;
	margin-left: 2px;
	margin-right: 5px;
}

.checkbox-on {
	background-image: url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%3Crect%20width%3D%2216%22%20height%3D%2216%22%20fill%3D%22%2358A9D7%22%2F%3E%0A%3Cpath%20d%3D%22M6.71429%2012.2852L14%204.9995L12.7143%203.71436L6.71429%209.71378L3.28571%206.2831L2%207.57092L6.71429%2012.2852Z%22%20fill%3D%22white%22%2F%3E%0A%3C%2Fsvg%3E");
}

.checkbox-off {
	background-image: url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%3Crect%20x%3D%220.75%22%20y%3D%220.75%22%20width%3D%2214.5%22%20height%3D%2214.5%22%20fill%3D%22white%22%20stroke%3D%22%2336352F%22%20stroke-width%3D%221.5%22%2F%3E%0A%3C%2Fsvg%3E");
}
	
</style></head><body><article id="2f023290-674e-8189-9dbf-c21f4de3e652" class="page sans"><header><h1 class="page-title" dir="auto">MASTER: Skill bundle + agents chuẩn (Intake BMAD + Research + Spec Kit + Orchestrator + UI/UX + QA Gate)</h1><p class="page-description" dir="auto"></p></header><div class="page-body"><div style="display:contents" dir="auto"><h1 id="2f123290-674e-8104-bc6c-fe486d4256ed" class="">MASTER — Skill bundle agents kit (canonical)</h1></div><div style="display:contents" dir="auto"><p id="2f123290-674e-8142-ae9f-eab8abdbbe18" class="">Bản này được viết lại từ logs cũ: có project structure, agent list, skill list, mapping, workflow, và system prompts templates.</p></div><div style="display:contents" dir="auto"><h2 id="2f123290-674e-8183-ae02-c4010126eae9" class="">MASTER (đọc phần này để triển khai)</h2></div><div style="display:contents" dir="auto"><ul id="2f123290-674e-81f6-9e6b-eb5d3677a375" class="toggle"><li><details open=""><summary>Open MASTER_CANONICAL.md</summary><div style="display:contents" dir="auto"><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="2f123290-674e-812c-a3d2-cb8847a2c4a3" class="code code-wrap"><code class="language-Markdown" style="white-space:pre-wrap;word-break:break-all"># MASTER — Skill Bundle Agents Kit (Intake / Research / Debate / Spec / Lanes / UI-UX / QA)

Mục tiêu của file này: **một tài liệu duy nhất** để người khác đọc và **triển khai được pipeline agentic-SDLC** (trong IDE/Clawdbot) mà không cần mò lại patch rời rạc.

---

## 0) Project Overview

### 0.1 Kit này là gì?
Bộ “skill bundle agents kit” là 1 chuẩn **agents + skills + artifact contracts + gates** để chạy quy trình:

**Orchestrator → Ask(Intake) → Architect(Research + Reuse gate) → Debate → Architect(Spec) → (Design UI/UX optional) → Code → QA Gate → Debug/Security**

### 0.2 Non-goals
- Không ép framework/ngôn ngữ.
- Không thay thế quy trình CI của repo; kit chỉ chuẩn hoá **contracts + gates + prompts**.

### 0.3 Thuật ngữ
- **run_id**: định danh 1 lần chạy; toàn bộ artifact nằm dưới `artifacts/runs/&lt;run_id&gt;/...`
- **artifact**: file đầu ra chuẩn hoá (json/md) có thể kiểm tra.
- **gate**: điều kiện pass/fail để đi bước tiếp.
- **lane**: nhóm trách nhiệm tách song song: `ui | api | data | qa | security`.

---

## 1) Repo Structure (canonical)

&gt; Đây là cấu trúc tối thiểu để “build được”. Skills có thể là copy/symlink/submodule, nhưng **paths + outputs** phải khớp.

```text
repo-root/
  AGENTS.md
  RULES.md
  qa.md
  LICENSE_POLICY.md

  agents/
    orchestrator.agent.md
    ask.agent.md
    architect.agent.md
    debate.agent.md              # (optional) hoặc gộp vào orchestrator
    spec.agent.md                # (optional) hoặc gộp vào architect
    design.agent.md              # optional
    code.agent.md
    qa_gate.agent.md
    debug_security.agent.md

  skills/
    intake/
    research/
    brave-search/
    github/
    debate/
    spec-agent/
    ui-ux/
    qa-gate/
    debug-security/

  schemas/
    intake.schema.json
    research.shortlist.schema.json
    re</code></pre></div><div style="display:contents" dir="auto"><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="2f123290-674e-812e-9dae-deee5ca04a5c" class="code code-wrap"><code class="language-Markdown" style="white-space:pre-wrap;word-break:break-all">search.reuse_assessment.schema.json
    debate.inputs_for_spec.schema.json
    task_breakdown.schema.json
    verification.report.schema.json

  examples/
    intake.example.json
    research.shortlist.example.json
    research.reuse_assessment.example.json
    debate.inputs_for_spec.example.json
    task_breakdown.example.json
    verification.report.example.json

  docs/
    ORCHESTRATOR_ADAPTER.md
    QA_TRIAGE.md

  artifacts/
    runs/&lt;run_id&gt;/...
```

### RUN_ID
- Format khuyến nghị: `YYYYMMDD_HHMM_&lt;slug&gt;`

---

## 2) Run Artifacts Layout (per run)

```text
artifacts/runs/&lt;run_id&gt;/
  00_user_request.md
  10_intake/
    intake.json
    intake.summary.md
  20_research/
    research.shortlist.json
    research.reuse_assessment.json
    research.patterns.md
    research.onepager.md
  30_debate/
    debate.inputs_for_spec.json
    debate.decision.md
  40_spec/
    spec.md
    task_breakdown.json
  45_design/
    handoff.md                 # optional
  50_implementation/
    handoff/&lt;lane&gt;/...
  60_verification/
    report.json
    summary.md
    debug_report.md            # optional
    security_review.md         # optional
```

---

## 3) Agents (roles + I/O contract)

### 3.1 Orchestrator (primary)
- Trách nhiệm: điều phối pipeline, enforce gates, route lanes, quyết định rerun/escalate.
- Inputs: `00_user_request.md` + toàn bộ artifacts trước đó.
- Outputs: trạng thái + quyết định bước tiếp theo.

### 3.2 Ask (Intake)
- Trách nhiệm: hỏi tối đa 8 câu, khoá scope.
- Output bắt buộc:
  - `10_intake/intake.json`
  - `10_intake/intake.summary.md`

### 3.3 Architect (Research)
- Trách nhiệm: shortlist candidate reuse + patterns + onepager.
- Outputs bắt buộc:
  - `20_research/research.shortlist.json`
  - `20_research/research.reuse_assessment.json`
  - `20_research/researc</code></pre></div><div style="display:contents" dir="auto"><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="2f123290-674e-81db-9707-c1af40306f11" class="code code-wrap"><code class="language-Markdown" style="white-space:pre-wrap;word-break:break-all">h.patterns.md`
  - `20_research/research.onepager.md`

### 3.4 Debate (Decision)
- Trách nhiệm: chốt decision + seed_task_outline theo lane.
- Outputs bắt buộc:
  - `30_debate/debate.decision.md`
  - `30_debate/debate.inputs_for_spec.json`

### 3.5 Architect (Spec)
- Trách nhiệm: viết `spec.md` + DAG `task_breakdown.json` dựa trên debate inputs.
- Outputs bắt buộc:
  - `40_spec/spec.md`
  - `40_spec/task_breakdown.json`

### 3.6 Design (UI/UX) — optional
- Trách nhiệm: handoff flows/states/components cho UI.
- Output:
  - `45_design/handoff.md`

### 3.7 Code (Implement)
- Trách nhiệm: implement theo `task_breakdown.json` + `spec.md` + `RULES.md`.
- Output:
  - code changes
  - nếu lanes: `50_implementation/handoff/&lt;lane&gt;/*`

### 3.8 QA Gate
- Trách nhiệm: chạy qa.md, ghi evidence.
- Output bắt buộc:
  - `60_verification/report.json`
  - `60_verification/summary.md`

### 3.9 Debug/Security
- Trách nhiệm: root-cause + fix plan khi QA fail; security review khi trigger.
- Output (tuỳ case):
  - `60_verification/debug_report.md`
  - `60_verification/security_review.md`

---

## 4) Skills (list + purpose)

- `skills/intake`: tạo intake.json theo template.
- `skills/research`: reuse-first research + shortlist + reuse_assessment.
- `skills/brave-search`: web search (requires `BRAVE_API_KEY`).
- `skills/github`: gh CLI / GitHub API.
- `skills/debate`: council debate (IDE-friendly hoặc runner multi-model).
- `skills/spec-agent`: biến debate inputs thành spec + DAG.
- `skills/ui-ux`: tạo UI/UX handoff.
- `skills/qa-gate`: chạy qa.md và tạo verification report.
- `skills/debug-security`: debug/security outputs + feed-back tasks.

---

## 5) Mapping: Agent ↔ Skills (canonical)

- Orchestrator → điều phối, gọi Debate skill, enforce gates.
- Ask → skills/intake.
- Architect(Research) </code></pre></div><div style="display:contents" dir="auto"><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="2f123290-674e-81ff-8b42-d7df65b61a9d" class="code code-wrap"><code class="language-Markdown" style="white-space:pre-wrap;word-break:break-all">→ skills/research (+ brave-search, github, web_fetch/summarize fallback).
- Debate → skills/debate.
- Architect(Spec) → skills/spec-agent.
- Design → skills/ui-ux.
- QA Gate → skills/qa-gate.
- Debug/Security → skills/debug-security.

---

## 6) Workflow + Gates (step-by-step)

### Gate 1 — Intake ready
- `10_intake/intake.json` validate schema.

### Gate 2 — Reuse-first passed
- Có `research.shortlist.json` + `research.reuse_assessment.json`.
- License policy pass.

### Gate 3 — Debate ready for spec
- Có `30_debate/debate.inputs_for_spec.json`.

### Gate 4 — Spec ready
- Có `40_spec/spec.md` + `40_spec/task_breakdown.json` validate schema.

### Gate 5 — Lane handoff ready
- Có handoff bundle tối thiểu cho lane cần thiết.

### Gate 6 — QA passed
- `60_verification/report.json.status = pass`.

---

## 7) Lanes (parallel execution) + handoff bundle

### 7.1 Lane ids
`ui | api | data | qa | security`

### 7.2 Handoff bundle tối thiểu (P0)
Mỗi lane khi “done” phải xuất:
- `README.md`
- `acceptance.md`
- `interfaces.md`
- `data_schema.md`
- `env.example`
- `test_plan.md`

### 7.3 Cross-lane rule (P0)
Không được đổi interface cross-lane “im lặng”. Nếu thay đổi:
- update `interfaces.md` / contract
- notify lane liên quan trong handoff

---

## 8) System Prompts (templates)

&gt; Mục tiêu: copy/paste để tạo `agents/*.agent.md`.

### 8.1 Orchestrator — system prompt
```text
You are Orchestrator (active). You control the project end-to-end.

Pipeline (must follow):
Ask(Intake) → Architect(Research) → Debate → Architect(Spec) → (Design optional) → Code → QA Gate → (Debug/Security if needed)

Rules:
- Do not skip gates.
- Enforce artifacts exist at the correct paths.
- Ask 0–3 clarifying questions max.
- Always output: current step, next step, missing artifacts, and a concise summary</code></pre></div><div style="display:contents" dir="auto"><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="2f123290-674e-816e-b148-df4273ce9b6a" class="code code-wrap"><code class="language-Markdown" style="white-space:pre-wrap;word-break:break-all">.
```

### 8.2 Ask (Intake) — system prompt
```text
You are Ask (Intake). Ask at most 8 questions. Do NOT propose architecture.

You must output:
- artifacts/runs/&lt;run_id&gt;/10_intake/intake.json
- artifacts/runs/&lt;run_id&gt;/10_intake/intake.summary.md
```

### 8.3 Architect (Research + Spec) — system prompt
```text
You are Architect.

Research:
- Use brave-search + github + fallback web_fetch/summarize.
- Output shortlist + reuse_assessment + patterns + onepager.

Spec:
- Use debate.inputs_for_spec.json as decision authority.
- Output spec.md + task_breakdown.json with a real DAG (depends_on) and owner_lane.
```

### 8.4 QA Gate — system prompt
```text
You are QA Gate.
- Run qa.md commands in order.
- Always output report.json + summary.md (even when failing early).
```

### 8.5 Debug/Security — system prompt
```text
You are Debug/Security.
- Trigger: QA fail or user request.
- Output debug_report.md and/or security_review.md.
- Provide a fix plan that feeds back into tasks.
```

---

## 9) Templates bắt buộc để “triển khai được”

### 9.1 Intake questions (8 câu)
1) Goal?
2) Users?
3) Current workflow?
4) Success metrics?
5) MVP scope (3–7 items)?
6) Non-goals?
7) Constraints (stack/time/budget/security)?
8) Risks + open questions?

### 9.2 spec.md template (P0)
```md
# spec.md

## Context

## Scope
- MVP:
- Non-goals:

## Decisions (from debate)
- Recommended approach:
- Reference repos:
- Key decisions:

## Plan &amp; Milestones

## Tasks by lane

## Verification
See qa.md

## Open questions
- Blocking:
- Non-blocking:
```

### 9.3 RULES.md template (P0)
```md
# RULES.md

## Lanes
ui, api, data, qa, security

## Scope control
No lane may change scope/architecture without routing back to Orchestrator/Architect.

## Handoff required
handoff/&lt;lane&gt;/{README.md,acceptance.md,inter</code></pre></div><div style="display:contents" dir="auto"><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="2f123290-674e-8104-9a3b-d0aa1802aaca" class="code code-wrap"><code class="language-Markdown" style="white-space:pre-wrap;word-break:break-all">faces.md,data_schema.md,env.example,test_plan.md}
```

### 9.4 qa.md template (P0)
```md
# qa.md

## Profile
node|python|web

## Commands
1) format: ...
2) lint: ...
3) typecheck: ...
4) test: ...
5) e2e (optional): ...

## Pass criteria
All commands exit 0.

## Evidence
- artifacts/runs/&lt;run_id&gt;/60_verification/report.json
- logs paths

## Iteration rule
Max 2 reruns, then escalate to Spec.
```

---

## 10) Appendices

- Orchestrator Adapter Contract: `docs/ORCHESTRATOR_ADAPTER.md`
- QA triage protocol: `docs/QA_TRIAGE.md`
- Full schemas/examples: `schemas/*`, `examples/*`
</code></pre></div></details></li></ul></div><div style="display:contents" dir="auto"><h2 id="2f123290-674e-8150-8b76-c8c99b74ffe8" class="">Appendices (chỉ mở khi cần copy/paste)</h2></div><div style="display:contents" dir="auto"><ul id="2f123290-674e-81db-b450-c86796063115" class="toggle"><li><details open=""><summary>Orchestrator Adapter Contract</summary><div style="display:contents" dir="auto"><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="2f123290-674e-817b-b36f-d6641bb17cef" class="code code-wrap"><code class="language-Markdown" style="white-space:pre-wrap;word-break:break-all"># Orchestrator Adapter Contract v0.1 (P0)

Mục tiêu: định nghĩa **điểm nối (adapter)** để một hệ Orchestrator (ví dụ Lanes-Orchestrator) có thể:
- tạo run folder chuẩn,
- gọi đúng agent/skill theo từng step,
- kiểm tra gate (schema + exit criteria),
- route qua lane owners (ui/api/data/qa/security),
- và thu thập evidence (QA/Debug/Security) theo output contract.

&gt; Triết lý: **Orchestrator không cần hiểu nội dung spec**, chỉ cần hiểu **artifacts + gates + state machine**.

---

## 1) Scope

Adapter này không quy định:
- model/provider cụ thể
- prompt chi tiết
- CI vendor (GitHub Actions, GitLab, v.v.)

Adapter này quy định:
- **filesystem layout** + naming
- **artifact pointers** (file paths)
- **gating interface** (pass/fail + reasons)
- **handoff bundle** per lane
- **triage routing** khi QA fail

---

## 2) Required folder layout (must exist per run)

Orchestrator MUST create:

```
artifacts/runs/&lt;run_id&gt;/
  00_user_request.md
  10_intake/
    intake.json
    intake.summary.md
  20_research/
    research.shortlist.json
    research.reuse_assessment.json
    research.patterns.md
  30_debate/
    debate.inputs_for_spec.json
    debate.decision.md
  40_spec/
    spec.md
    task_breakdown.json
  50_implementation/
    handoff/&lt;lane&gt;/...
  60_verification/
    report.json
    summary.md
    debug_report.md           # optional
    security_review.md        # optional
```

Nếu execution_mode = `fast_build` thì Orchestrator vẫn phải tạo đủ tree, nhưng có thể cho phép skip một số file optional (được ghi rõ trong report).

---

## 3) Artifacts are the API (pointers)

Orchestrator tương tác qua **đường dẫn** (path) và **schema**:

- Intake: `10_intake/intake.json` (validate: `schemas/intake.schema.json`)
- Reuse assessment: `20_research/research.reuse_assessment.json` (valid</code></pre></div><div style="display:contents" dir="auto"><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="2f123290-674e-8108-8900-e19a2fbf4c8e" class="code code-wrap"><code class="language-Markdown" style="white-space:pre-wrap;word-break:break-all">ate: `schemas/research.reuse_assessment.schema.json`)
- Debate inputs: `30_debate/debate.inputs_for_spec.json` (validate: `schemas/debate.inputs_for_spec.schema.json`)
- DAG: `40_spec/task_breakdown.json` (validate: `schemas/task_breakdown.schema.json`)
- QA report: `60_verification/report.json` (validate: `schemas/verification.report.schema.json`)

**Rule:** Orchestrator MUST NOT move forward nếu schema validation fail.

---

## 4) Gate evaluation interface

Adapter cần 1 primitive:

### `evaluate_gate(gate_id, run_root) -&gt; GateResult`

- `gate_id`:
  - `intake_ready`
  - `reuse_gate_passed`
  - `debate_ready_for_spec`
  - `spec_ready`
  - `lane_handoff_ready`
  - `qa_passed`

- `GateResult` (logical schema):
  - `status`: `pass | fail`
  - `reasons[]`: danh sách ngắn gọn (string)
  - `blocking_files[]`: file paths cần sửa
  - `next_action`: `proceed | rerun_step | escalate_to_spec | escalate_to_debate | escalate_to_user`

&gt; Implementation có thể là CLI, script, hoặc builtin trong Orchestrator; nhưng output phải map được theo structure trên.

---

## 5) Lane routing

Lane ids chuẩn (P0): `ui | api | data | qa | security`

Orchestrator đọc `40_spec/task_breakdown.json`:
- mỗi task có `owner_lane`
- Orchestrator group tasks theo lane và tạo:
  - `50_implementation/handoff/&lt;lane&gt;/` bundle

**Minimum bundle per lane** (P0):
- `README.md`
- `acceptance.md`
- `interfaces.md`
- `data_schema.md`
- `env.example`
- `test_plan.md`

---

## 6) Versioning &amp; compatibility

- Schema files version theo nội dung; nếu có breaking change, bump `$id` hoặc thêm suffix `*.v2.schema.json`.
- Orchestrator SHOULD record versions trong `provenance` của mỗi artifact.

---

## 7) Failure semantics

- Schema fail → **rerun step hiện tại** (không qua bước sau).
- QA fail → route qua triage protocol</code></pre></div><div style="display:contents" dir="auto"><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="2f123290-674e-8199-ab5f-fc2f00d3b047" class="code code-wrap"><code class="language-Markdown" style="white-space:pre-wrap;word-break:break-all"> (xem `docs/QA_TRIAGE.md`).
- Unknown license / security critical → `next_action=escalate_to_user`.
</code></pre></div></details></li></ul></div><div style="display:contents" dir="auto"><ul id="2f123290-674e-81c9-8658-c7f2e3703c7f" class="toggle"><li><details open=""><summary>QA TRIAGE</summary><div style="display:contents" dir="auto"><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="2f123290-674e-8135-944c-c090cf186c0e" class="code code-wrap"><code class="language-Markdown" style="white-space:pre-wrap;word-break:break-all"># QA Gate — Report Schema + Triage Protocol (P0)

Mục tiêu: biến QA Gate thành một **bước deterministic**: chạy gì, ghi gì, fail thì route đi đâu.

---

## 1) Report contract (single source of truth)

File bắt buộc:
- `artifacts/runs/&lt;run_id&gt;/60_verification/report.json`

Validate bằng:
- `schemas/verification.report.schema.json`

Ý nghĩa field chính:
- `status`: `pass|fail`
- `commands[]`: command đã chạy + exit_code + (optional) logs_path
- `evidence`: danh sách artifacts/links chứng minh
- `summary.highlights[]`: điều quan trọng nhất
- `summary.top_failures[]`: top lỗi gây fail

**Rule:** QA agent MUST write `report.json` kể cả khi fail sớm (schema fail/lint fail).

---

## 2) Execution modes

### 2.1 fast_build (minimum viable QA)
Bắt buộc:
1) Schema validation (all required artifacts)
2) Lint/typecheck nếu có
3) Smoke/unit tests tối thiểu

### 2.2 standard_pipeline
Tuân theo `qa.md` (đầy đủ)

---

## 3) Triage protocol (max reruns + escalation)

Orchestrator/QA Gate áp dụng quy tắc rerun và escalation thống nhất.

### 3.1 Counters
- `qa_rerun_count`: số lần rerun QA cho cùng một run_id.
- `debug_rerun_count`: số lần rerun Debug/Security.

### 3.2 Routing rules

**A) Fail do schema validation**
- Ví dụ: thiếu file, JSON invalid, schema mismatch
- Action: `rerun_step` = step tạo artifact (Intake/Research/Debate/Spec)
- Không vào Debug (vì chưa có đầu vào hợp lệ)

**B) Fail do test/lint/typecheck/build**
- Action: route sang `Debug` để fix nhanh + update tests
- Sau Debug → rerun QA

**C) Fail lặp lại lần 2 (qa_rerun_count &gt;= 2) hoặc fail dạng “assumption/scope mismatch”**
- Dấu hiệu: test fail vì spec thiếu cases, interface sai, requirement không rõ
- Action:
  - `escalate_to_spec` nếu lỗi thuộc thiết kế/requirements
  - `escalate_to_debate` nếu có tranh chấp hướng đ</code></pre></div><div style="display:contents" dir="auto"><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="2f123290-674e-8164-9a09-e6263d37c928" class="code code-wrap"><code class="language-Markdown" style="white-space:pre-wrap;word-break:break-all">i / tradeoff chưa chốt

**D) Security/Licensing gate fail**
- Action: route `Security` lane
- Nếu `license_check.status = unknown_requires_approval` hoặc phát hiện secret leak → `escalate_to_user`

---

## 4) Minimal debug output (recommended)

Khi QA fail và route Debug/Security, nên ghi thêm:
- `60_verification/debug_report.md` (root cause + fix + regression plan)
- hoặc `60_verification/security_review.md`

Nhưng `report.json` vẫn là bắt buộc.
</code></pre></div></details></li></ul></div><div style="display:contents" dir="auto"><ul id="2f123290-674e-8151-9c3b-f7e91028e159" class="toggle"><li><details open=""><summary>Schemas (JSON)</summary><div style="display:contents" dir="auto"><h2 id="2f123290-674e-8140-b2a5-dd3f633571f9" class="">debate.inputs_for_spec.schema.json</h2></div><div style="display:contents" dir="auto"><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="2f123290-674e-81b4-afc1-d9c7df10944a" class="code code-wrap"><code class="language-JSON" style="white-space:pre-wrap;word-break:break-all">{
  &quot;$schema&quot;: &quot;https://json-schema.org/draft/2020-12/schema&quot;,
  &quot;$id&quot;: &quot;https://clawd.bot/schemas/debate.inputs_for_spec.schema.json&quot;,
  &quot;title&quot;: &quot;debate.inputs_for_spec.json&quot;,
  &quot;type&quot;: &quot;object&quot;,
  &quot;additionalProperties&quot;: false,
  &quot;required&quot;: [
    &quot;options&quot;,
    &quot;scoring_rubric&quot;,
    &quot;decision&quot;,
    &quot;rejected_options&quot;,
    &quot;seed_task_outline&quot;,
    &quot;assumptions&quot;,
    &quot;open_questions&quot;,
    &quot;non_goals&quot;,
    &quot;decision_lock&quot;,
    &quot;provenance&quot;
  ],
  &quot;properties&quot;: {
    &quot;options&quot;: {
      &quot;type&quot;: &quot;array&quot;,
      &quot;minItems&quot;: 1,
      &quot;items&quot;: {
        &quot;type&quot;: &quot;object&quot;,
        &quot;additionalProperties&quot;: false,
        &quot;required&quot;: [&quot;id&quot;, &quot;summary&quot;, &quot;pros&quot;, &quot;cons&quot;, &quot;estimated_cost&quot;, &quot;risks&quot;],
        &quot;properties&quot;: {
          &quot;id&quot;: { &quot;type&quot;: &quot;string&quot;, &quot;minLength&quot;: 1 },
          &quot;summary&quot;: { &quot;type&quot;: &quot;string&quot;, &quot;minLength&quot;: 1 },
          &quot;pros&quot;: { &quot;type&quot;: &quot;array&quot;, &quot;items&quot;: { &quot;type&quot;: &quot;string&quot; } },
          &quot;cons&quot;: { &quot;type&quot;: &quot;array&quot;, &quot;items&quot;: { &quot;type&quot;: &quot;string&quot; } },
          &quot;estimated_cost&quot;: { &quot;type&quot;: &quot;string&quot; },
          &quot;risks&quot;: { &quot;type&quot;: &quot;array&quot;, &quot;items&quot;: { &quot;type&quot;: &quot;string&quot; } }
        }
      }
    },
    &quot;scoring_rubric&quot;: {
      &quot;type&quot;: &quot;object&quot;,
      &quot;additionalProperties&quot;: false,
      &quot;required&quot;: [&quot;criteria&quot;, &quot;weights&quot;],
      &quot;properties&quot;: {
        &quot;criteria&quot;: { &quot;type&quot;: &quot;array&quot;, &quot;items&quot;: { &quot;type&quot;: &quot;string&quot; } },
        &quot;weights&quot;: { &quot;type&quot;: &quot;object&quot; }
      }
    },
    &quot;decision&quot;: {
      &quot;type&quot;: &quot;object&quot;,
      &quot;additionalProperties&quot;: false,
      &quot;required&quot;: [&quot;chosen_option_id&quot;, &quot;tie_break_reason&quot;],
      &quot;properties&quot;: {
        &quot;chosen_option_id&quot;: { &quot;type&quot;: &quot;string&quot;, &quot;minLength&quot;: 1 },
        &quot;tie_break_reason&quot;: { &quot;type&quot;: &quot;string&quot; }
      }
    },
    &quot;rejected_options&quot;: {
      &quot;type&quot;: &quot;array&quot;,
      &quot;items&quot;: {
        &quot;type&quot;: &quot;object&quot;,
        &quot;additionalProper</code></pre></div><div style="display:contents" dir="auto"><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="2f123290-674e-818f-bfdb-ff970a4bf025" class="code code-wrap"><code class="language-JSON" style="white-space:pre-wrap;word-break:break-all">ties&quot;: false,
        &quot;required&quot;: [&quot;id&quot;, &quot;why&quot;],
        &quot;properties&quot;: {
          &quot;id&quot;: { &quot;type&quot;: &quot;string&quot; },
          &quot;why&quot;: { &quot;type&quot;: &quot;string&quot; }
        }
      }
    },
    &quot;disagreements&quot;: {
      &quot;type&quot;: &quot;array&quot;,
      &quot;items&quot;: {
        &quot;type&quot;: &quot;object&quot;,
        &quot;additionalProperties&quot;: false,
        &quot;required&quot;: [&quot;agent&quot;, &quot;reason&quot;],
        &quot;properties&quot;: {
          &quot;agent&quot;: { &quot;type&quot;: &quot;string&quot; },
          &quot;reason&quot;: { &quot;type&quot;: &quot;string&quot; }
        }
      }
    },
    &quot;seed_task_outline&quot;: {
      &quot;type&quot;: &quot;array&quot;,
      &quot;items&quot;: {
        &quot;type&quot;: &quot;object&quot;,
        &quot;additionalProperties&quot;: false,
        &quot;required&quot;: [&quot;owner_lane&quot;, &quot;title&quot;],
        &quot;properties&quot;: {
          &quot;owner_lane&quot;: { &quot;type&quot;: &quot;string&quot;, &quot;enum&quot;: [&quot;ui&quot;, &quot;api&quot;, &quot;data&quot;, &quot;qa&quot;, &quot;security&quot;, &quot;orchestrator&quot;] },
          &quot;title&quot;: { &quot;type&quot;: &quot;string&quot; },
          &quot;notes&quot;: { &quot;type&quot;: &quot;string&quot; },
          &quot;acceptance&quot;: { &quot;type&quot;: &quot;array&quot;, &quot;items&quot;: { &quot;type&quot;: &quot;string&quot; } }
        }
      }
    },
    &quot;assumptions&quot;: { &quot;type&quot;: &quot;array&quot;, &quot;items&quot;: { &quot;type&quot;: &quot;string&quot; } },
    &quot;open_questions&quot;: { &quot;type&quot;: &quot;array&quot;, &quot;items&quot;: { &quot;type&quot;: &quot;string&quot; } },
    &quot;non_goals&quot;: { &quot;type&quot;: &quot;array&quot;, &quot;items&quot;: { &quot;type&quot;: &quot;string&quot; } },
    &quot;decision_lock&quot;: {
      &quot;type&quot;: &quot;object&quot;,
      &quot;additionalProperties&quot;: false,
      &quot;required&quot;: [&quot;locked&quot;, &quot;change_request_process&quot;],
      &quot;properties&quot;: {
        &quot;locked&quot;: { &quot;type&quot;: &quot;boolean&quot;, &quot;const&quot;: true },
        &quot;change_request_process&quot;: { &quot;type&quot;: &quot;string&quot; }
      }
    },
    &quot;provenance&quot;: {
      &quot;type&quot;: &quot;object&quot;,
      &quot;additionalProperties&quot;: true,
      &quot;required&quot;: [&quot;timestamp&quot;],
      &quot;properties&quot;: {
        &quot;timestamp&quot;: { &quot;type&quot;: &quot;string&quot; },
        &quot;mode&quot;: { &quot;type&quot;: &quot;string&quot;, &quot;enum&quot;: [&quot;ide&quot;, &quot;runner&quot;] },
        &quot;participants&quot;: {},
        &quot;model_versions&quot;: {}
      }
    }
  }
}
</code></pre></div><div style="display:contents" dir="auto"><h2 id="2f123290-674e-8121-95cc-c9b0a27534b9" class="">intake.schema.json</h2></div><div style="display:contents" dir="auto"><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="2f123290-674e-81e2-b337-ecaa3e481b3d" class="code code-wrap"><code class="language-JSON" style="white-space:pre-wrap;word-break:break-all">{
  &quot;$schema&quot;: &quot;https://json-schema.org/draft/2020-12/schema&quot;,
  &quot;$id&quot;: &quot;https://clawd.bot/schemas/intake.schema.json&quot;,
  &quot;title&quot;: &quot;intake.json&quot;,
  &quot;type&quot;: &quot;object&quot;,
  &quot;additionalProperties&quot;: true,
  &quot;required&quot;: [&quot;goal&quot;, &quot;users&quot;, &quot;success_metrics&quot;, &quot;mvp_scope&quot;, &quot;non_goals&quot;, &quot;constraints&quot;, &quot;risks&quot;, &quot;open_questions&quot;, &quot;sizing&quot;, &quot;execution_mode&quot;],
  &quot;properties&quot;: {
    &quot;goal&quot;: {&quot;type&quot;: &quot;string&quot;, &quot;minLength&quot;: 1},
    &quot;users&quot;: {&quot;type&quot;: &quot;array&quot;, &quot;items&quot;: {&quot;type&quot;: &quot;string&quot;}, &quot;minItems&quot;: 1},
    &quot;success_metrics&quot;: {&quot;type&quot;: &quot;array&quot;, &quot;items&quot;: {&quot;type&quot;: &quot;string&quot;}},
    &quot;mvp_scope&quot;: {&quot;type&quot;: &quot;array&quot;, &quot;items&quot;: {&quot;type&quot;: &quot;string&quot;}, &quot;minItems&quot;: 1},
    &quot;non_goals&quot;: {&quot;type&quot;: &quot;array&quot;, &quot;items&quot;: {&quot;type&quot;: &quot;string&quot;}},
    &quot;constraints&quot;: {&quot;type&quot;: &quot;array&quot;, &quot;items&quot;: {&quot;type&quot;: &quot;string&quot;}},
    &quot;risks&quot;: {&quot;type&quot;: &quot;array&quot;, &quot;items&quot;: {&quot;type&quot;: &quot;string&quot;}},
    &quot;open_questions&quot;: {&quot;type&quot;: &quot;array&quot;, &quot;items&quot;: {&quot;type&quot;: &quot;string&quot;}},
    &quot;sizing&quot;: {&quot;type&quot;: &quot;string&quot;, &quot;enum&quot;: [&quot;S&quot;, &quot;M&quot;, &quot;L&quot;]},
    &quot;execution_mode&quot;: {&quot;type&quot;: &quot;string&quot;, &quot;enum&quot;: [&quot;fast_build&quot;, &quot;standard_pipeline&quot;]}
  }
}
</code></pre></div><div style="display:contents" dir="auto"><h2 id="2f123290-674e-8190-adf0-ef1acf950490" class="">research.reuse_assessment.schema.json</h2></div><div style="display:contents" dir="auto"><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="2f123290-674e-816b-baa0-c8b03e33d63b" class="code code-wrap"><code class="language-JSON" style="white-space:pre-wrap;word-break:break-all">{
  &quot;$schema&quot;: &quot;https://json-schema.org/draft/2020-12/schema&quot;,
  &quot;$id&quot;: &quot;https://clawd.bot/schemas/research.reuse_assessment.schema.json&quot;,
  &quot;title&quot;: &quot;research.reuse_assessment.json&quot;,
  &quot;type&quot;: &quot;object&quot;,
  &quot;additionalProperties&quot;: false,
  &quot;required&quot;: [&quot;recommended_path&quot;, &quot;shortlisted_repo&quot;, &quot;license_check&quot;, &quot;baseline_verification&quot;, &quot;security_baseline&quot;, &quot;risks&quot;, &quot;provenance&quot;],
  &quot;properties&quot;: {
    &quot;recommended_path&quot;: {&quot;type&quot;: &quot;string&quot;, &quot;enum&quot;: [&quot;reuse&quot;, &quot;hybrid&quot;, &quot;build&quot;]},
    &quot;shortlisted_repo&quot;: {
      &quot;type&quot;: &quot;object&quot;,
      &quot;additionalProperties&quot;: true,
      &quot;required&quot;: [&quot;repo_url&quot;],
      &quot;properties&quot;: {
        &quot;repo_url&quot;: {&quot;type&quot;: &quot;string&quot;},
        &quot;commit_or_tag&quot;: {&quot;type&quot;: &quot;string&quot;}
      }
    },
    &quot;license_check&quot;: {
      &quot;type&quot;: &quot;object&quot;,
      &quot;additionalProperties&quot;: false,
      &quot;required&quot;: [&quot;license&quot;, &quot;policy&quot;, &quot;status&quot;],
      &quot;properties&quot;: {
        &quot;license&quot;: {&quot;type&quot;: &quot;string&quot;},
        &quot;policy&quot;: {&quot;type&quot;: &quot;string&quot;},
        &quot;status&quot;: {&quot;type&quot;: &quot;string&quot;, &quot;enum&quot;: [&quot;allowed&quot;, &quot;denied&quot;, &quot;unknown_requires_approval&quot;]}
      }
    },
    &quot;baseline_verification&quot;: {
      &quot;type&quot;: &quot;object&quot;,
      &quot;additionalProperties&quot;: false,
      &quot;required&quot;: [&quot;required&quot;, &quot;cmds&quot;, &quot;status&quot;],
      &quot;properties&quot;: {
        &quot;required&quot;: {&quot;type&quot;: &quot;boolean&quot;},
        &quot;cmds&quot;: {&quot;type&quot;: &quot;array&quot;, &quot;items&quot;: {&quot;type&quot;: &quot;string&quot;}},
        &quot;status&quot;: {&quot;type&quot;: &quot;string&quot;, &quot;enum&quot;: [&quot;pass&quot;, &quot;fail&quot;, &quot;skipped&quot;]},
        &quot;notes&quot;: {&quot;type&quot;: &quot;string&quot;}
      }
    },
    &quot;security_baseline&quot;: {
      &quot;type&quot;: &quot;object&quot;,
      &quot;additionalProperties&quot;: false,
      &quot;required&quot;: [&quot;secret_scan&quot;, &quot;dependency_audit&quot;],
      &quot;properties&quot;: {
        &quot;secret_scan&quot;: {&quot;type&quot;: &quot;string&quot;, &quot;enum&quot;: [&quot;pass&quot;, &quot;fail&quot;, &quot;skipped&quot;]},
        &quot;dependency_audit&quot;: {&quot;type&quot;: &quot;string&quot;, &quot;enum&quot;: [&quot;pass&quot;, &quot;fail&quot;, &quot;skipped&quot;]},
        &quot;sb</code></pre></div><div style="display:contents" dir="auto"><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="2f123290-674e-8186-ab63-e346ede7bc05" class="code code-wrap"><code class="language-JSON" style="white-space:pre-wrap;word-break:break-all">om&quot;: {&quot;type&quot;: &quot;string&quot;, &quot;enum&quot;: [&quot;produced&quot;, &quot;skipped&quot;]}
      }
    },
    &quot;risks&quot;: {&quot;type&quot;: &quot;array&quot;, &quot;items&quot;: {&quot;type&quot;: &quot;string&quot;}},
    &quot;provenance&quot;: {
      &quot;type&quot;: &quot;object&quot;,
      &quot;additionalProperties&quot;: true,
      &quot;required&quot;: [&quot;timestamp&quot;],
      &quot;properties&quot;: {
        &quot;timestamp&quot;: {&quot;type&quot;: &quot;string&quot;},
        &quot;commit_hash&quot;: {&quot;type&quot;: &quot;string&quot;}
      }
    }
  }
}
</code></pre></div><div style="display:contents" dir="auto"><h2 id="2f123290-674e-81ed-b406-caff4325c263" class="">research.shortlist.schema.json</h2></div><div style="display:contents" dir="auto"><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="2f123290-674e-81a6-923b-d40f05e72fb7" class="code code-wrap"><code class="language-JSON" style="white-space:pre-wrap;word-break:break-all">{
  &quot;$schema&quot;: &quot;https://json-schema.org/draft/2020-12/schema&quot;,
  &quot;$id&quot;: &quot;https://clawd.bot/schemas/research.shortlist.schema.json&quot;,
  &quot;title&quot;: &quot;research.shortlist.json&quot;,
  &quot;type&quot;: &quot;object&quot;,
  &quot;additionalProperties&quot;: false,
  &quot;required&quot;: [
    &quot;problem_summary&quot;,
    &quot;recommended_path&quot;,
    &quot;candidates&quot;,
    &quot;rationale&quot;,
    &quot;baseline_verification&quot;,
    &quot;assumptions&quot;,
    &quot;open_questions&quot;,
    &quot;provenance&quot;
  ],
  &quot;properties&quot;: {
    &quot;problem_summary&quot;: { &quot;type&quot;: &quot;string&quot;, &quot;minLength&quot;: 1 },
    &quot;recommended_path&quot;: { &quot;type&quot;: &quot;string&quot;, &quot;enum&quot;: [&quot;reuse&quot;, &quot;hybrid&quot;, &quot;build&quot;] },
    &quot;rationale&quot;: { &quot;type&quot;: &quot;string&quot; },
    &quot;candidates&quot;: {
      &quot;type&quot;: &quot;array&quot;,
      &quot;minItems&quot;: 1,
      &quot;items&quot;: {
        &quot;type&quot;: &quot;object&quot;,
        &quot;additionalProperties&quot;: false,
        &quot;required&quot;: [
          &quot;repo_url&quot;,
          &quot;commit_or_tag&quot;,
          &quot;license&quot;,
          &quot;activity_score&quot;,
          &quot;fit_score&quot;,
          &quot;security_notes&quot;,
          &quot;reuse_candidate&quot;,
          &quot;bootstrap_steps&quot;,
          &quot;effort_estimate&quot;,
          &quot;risks&quot;
        ],
        &quot;properties&quot;: {
          &quot;repo_url&quot;: { &quot;type&quot;: &quot;string&quot;, &quot;minLength&quot;: 1 },
          &quot;commit_or_tag&quot;: { &quot;type&quot;: &quot;string&quot;, &quot;minLength&quot;: 1 },
          &quot;license&quot;: { &quot;type&quot;: &quot;string&quot;, &quot;minLength&quot;: 1 },
          &quot;activity_score&quot;: { &quot;type&quot;: &quot;number&quot;, &quot;minimum&quot;: 0, &quot;maximum&quot;: 1 },
          &quot;fit_score&quot;: { &quot;type&quot;: &quot;number&quot;, &quot;minimum&quot;: 0, &quot;maximum&quot;: 1 },
          &quot;security_notes&quot;: { &quot;type&quot;: &quot;string&quot; },
          &quot;reuse_candidate&quot;: { &quot;type&quot;: &quot;boolean&quot; },
          &quot;bootstrap_steps&quot;: { &quot;type&quot;: &quot;array&quot;, &quot;items&quot;: { &quot;type&quot;: &quot;string&quot; } },
          &quot;baseline_verification&quot;: {
            &quot;type&quot;: &quot;object&quot;,
            &quot;additionalProperties&quot;: false,
            &quot;required&quot;: [&quot;required&quot;, &quot;cmds&quot;],
            &quot;properties&quot;: {
              &quot;required&quot;: </code></pre></div><div style="display:contents" dir="auto"><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="2f123290-674e-8104-b426-e934fda0059f" class="code code-wrap"><code class="language-JSON" style="white-space:pre-wrap;word-break:break-all">{ &quot;type&quot;: &quot;boolean&quot; },
              &quot;cmds&quot;: { &quot;type&quot;: &quot;array&quot;, &quot;items&quot;: { &quot;type&quot;: &quot;string&quot; } }
            }
          },
          &quot;effort_estimate&quot;: { &quot;type&quot;: &quot;string&quot;, &quot;minLength&quot;: 1 },
          &quot;risks&quot;: { &quot;type&quot;: &quot;array&quot;, &quot;items&quot;: { &quot;type&quot;: &quot;string&quot; } }
        }
      }
    },
    &quot;baseline_verification&quot;: {
      &quot;type&quot;: &quot;object&quot;,
      &quot;additionalProperties&quot;: false,
      &quot;required&quot;: [&quot;required&quot;, &quot;cmds&quot;],
      &quot;properties&quot;: {
        &quot;required&quot;: { &quot;type&quot;: &quot;boolean&quot; },
        &quot;cmds&quot;: { &quot;type&quot;: &quot;array&quot;, &quot;items&quot;: { &quot;type&quot;: &quot;string&quot; } }
      }
    },
    &quot;assumptions&quot;: { &quot;type&quot;: &quot;array&quot;, &quot;items&quot;: { &quot;type&quot;: &quot;string&quot; } },
    &quot;open_questions&quot;: { &quot;type&quot;: &quot;array&quot;, &quot;items&quot;: { &quot;type&quot;: &quot;string&quot; } },
    &quot;provenance&quot;: {
      &quot;type&quot;: &quot;object&quot;,
      &quot;additionalProperties&quot;: true,
      &quot;required&quot;: [&quot;timestamp&quot;],
      &quot;properties&quot;: {
        &quot;timestamp&quot;: { &quot;type&quot;: &quot;string&quot; },
        &quot;mode&quot;: { &quot;type&quot;: &quot;string&quot; },
        &quot;model_versions&quot;: {},
        &quot;commit_hash&quot;: { &quot;type&quot;: &quot;string&quot; }
      }
    }
  }
}
</code></pre></div><div style="display:contents" dir="auto"><h2 id="2f123290-674e-8144-ac29-eab3aac22393" class="">task_breakdown.schema.json</h2></div><div style="display:contents" dir="auto"><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="2f123290-674e-817f-9092-f44b72b80f3e" class="code code-wrap"><code class="language-JSON" style="white-space:pre-wrap;word-break:break-all">{
  &quot;$schema&quot;: &quot;https://json-schema.org/draft/2020-12/schema&quot;,
  &quot;$id&quot;: &quot;https://clawd.bot/schemas/task_breakdown.schema.json&quot;,
  &quot;title&quot;: &quot;task_breakdown.json&quot;,
  &quot;type&quot;: &quot;object&quot;,
  &quot;additionalProperties&quot;: false,
  &quot;required&quot;: [&quot;milestones&quot;, &quot;tasks&quot;, &quot;provenance&quot;],
  &quot;properties&quot;: {
    &quot;milestones&quot;: {
      &quot;type&quot;: &quot;array&quot;,
      &quot;items&quot;: {
        &quot;type&quot;: &quot;object&quot;,
        &quot;additionalProperties&quot;: false,
        &quot;required&quot;: [&quot;id&quot;, &quot;title&quot;, &quot;exit_criteria&quot;, &quot;tasks&quot;],
        &quot;properties&quot;: {
          &quot;id&quot;: { &quot;type&quot;: &quot;string&quot; },
          &quot;title&quot;: { &quot;type&quot;: &quot;string&quot; },
          &quot;exit_criteria&quot;: { &quot;type&quot;: &quot;array&quot;, &quot;items&quot;: { &quot;type&quot;: &quot;string&quot; } },
          &quot;tasks&quot;: { &quot;type&quot;: &quot;array&quot;, &quot;items&quot;: { &quot;type&quot;: &quot;string&quot; } }
        }
      }
    },
    &quot;tasks&quot;: {
      &quot;type&quot;: &quot;array&quot;,
      &quot;items&quot;: {
        &quot;type&quot;: &quot;object&quot;,
        &quot;additionalProperties&quot;: false,
        &quot;required&quot;: [
          &quot;node_id&quot;,
          &quot;title&quot;,
          &quot;owner_lane&quot;,
          &quot;depends_on&quot;,
          &quot;parallel_group&quot;,
          &quot;inputs&quot;,
          &quot;artifact_out&quot;,
          &quot;exit_criteria&quot;,
          &quot;validation_cmd&quot;,
          &quot;rollback_plan&quot;
        ],
        &quot;properties&quot;: {
          &quot;node_id&quot;: { &quot;type&quot;: &quot;string&quot; },
          &quot;title&quot;: { &quot;type&quot;: &quot;string&quot; },
          &quot;owner_lane&quot;: { &quot;type&quot;: &quot;string&quot;, &quot;enum&quot;: [&quot;ui&quot;, &quot;api&quot;, &quot;data&quot;, &quot;qa&quot;, &quot;security&quot;, &quot;orchestrator&quot;] },
          &quot;depends_on&quot;: { &quot;type&quot;: &quot;array&quot;, &quot;items&quot;: { &quot;type&quot;: &quot;string&quot; } },
          &quot;parallel_group&quot;: { &quot;type&quot;: &quot;string&quot; },
          &quot;inputs&quot;: { &quot;type&quot;: &quot;array&quot;, &quot;items&quot;: { &quot;type&quot;: &quot;string&quot; } },
          &quot;artifact_out&quot;: { &quot;type&quot;: &quot;array&quot;, &quot;items&quot;: { &quot;type&quot;: &quot;string&quot; } },
          &quot;exit_criteria&quot;: { &quot;type&quot;: &quot;array&quot;, &quot;items&quot;: { &quot;type&quot;: &quot;string&quot; } },
          &quot;validation_cmd&quot;: { &quot;type&quot;: &quot;array&quot;, &quot;items&quot;: { &quot;type&quot;: &quot;string&quot; } },</code></pre></div><div style="display:contents" dir="auto"><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="2f123290-674e-81eb-9465-faf1ab0fb236" class="code code-wrap"><code class="language-JSON" style="white-space:pre-wrap;word-break:break-all">
          &quot;rollback_plan&quot;: { &quot;type&quot;: &quot;string&quot; }
        }
      }
    },
    &quot;provenance&quot;: {
      &quot;type&quot;: &quot;object&quot;,
      &quot;additionalProperties&quot;: true,
      &quot;required&quot;: [&quot;timestamp&quot;],
      &quot;properties&quot;: {
        &quot;timestamp&quot;: { &quot;type&quot;: &quot;string&quot; },
        &quot;commit_hash&quot;: { &quot;type&quot;: &quot;string&quot; }
      }
    }
  }
}
</code></pre></div><div style="display:contents" dir="auto"><h2 id="2f123290-674e-812d-aad6-d8d7e0a5b232" class="">verification.report.schema.json</h2></div><div style="display:contents" dir="auto"><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="2f123290-674e-812d-ab68-f2dac562d93e" class="code code-wrap"><code class="language-JSON" style="white-space:pre-wrap;word-break:break-all">{
  &quot;$schema&quot;: &quot;https://json-schema.org/draft/2020-12/schema&quot;,
  &quot;$id&quot;: &quot;https://clawd.bot/schemas/verification.report.schema.json&quot;,
  &quot;title&quot;: &quot;60_verification/report.json&quot;,
  &quot;type&quot;: &quot;object&quot;,
  &quot;additionalProperties&quot;: false,
  &quot;required&quot;: [&quot;run_id&quot;, &quot;status&quot;, &quot;commands&quot;, &quot;evidence&quot;, &quot;summary&quot;, &quot;provenance&quot;],
  &quot;properties&quot;: {
    &quot;run_id&quot;: {&quot;type&quot;: &quot;string&quot;},
    &quot;status&quot;: {&quot;type&quot;: &quot;string&quot;, &quot;enum&quot;: [&quot;pass&quot;, &quot;fail&quot;]},
    &quot;commands&quot;: {
      &quot;type&quot;: &quot;array&quot;,
      &quot;items&quot;: {
        &quot;type&quot;: &quot;object&quot;,
        &quot;additionalProperties&quot;: false,
        &quot;required&quot;: [&quot;name&quot;, &quot;cmd&quot;, &quot;exit_code&quot;],
        &quot;properties&quot;: {
          &quot;name&quot;: {&quot;type&quot;: &quot;string&quot;},
          &quot;cmd&quot;: {&quot;type&quot;: &quot;string&quot;},
          &quot;exit_code&quot;: {&quot;type&quot;: &quot;integer&quot;},
          &quot;duration_ms&quot;: {&quot;type&quot;: &quot;integer&quot;},
          &quot;logs_path&quot;: {&quot;type&quot;: &quot;string&quot;}
        }
      }
    },
    &quot;evidence&quot;: {
      &quot;type&quot;: &quot;object&quot;,
      &quot;additionalProperties&quot;: true,
      &quot;properties&quot;: {
        &quot;artifacts&quot;: {&quot;type&quot;: &quot;array&quot;, &quot;items&quot;: {&quot;type&quot;: &quot;string&quot;}},
        &quot;links&quot;: {&quot;type&quot;: &quot;array&quot;, &quot;items&quot;: {&quot;type&quot;: &quot;string&quot;}}
      }
    },
    &quot;summary&quot;: {
      &quot;type&quot;: &quot;object&quot;,
      &quot;additionalProperties&quot;: false,
      &quot;required&quot;: [&quot;highlights&quot;],
      &quot;properties&quot;: {
        &quot;highlights&quot;: {&quot;type&quot;: &quot;array&quot;, &quot;items&quot;: {&quot;type&quot;: &quot;string&quot;}},
        &quot;top_failures&quot;: {&quot;type&quot;: &quot;array&quot;, &quot;items&quot;: {&quot;type&quot;: &quot;string&quot;}}
      }
    },
    &quot;provenance&quot;: {
      &quot;type&quot;: &quot;object&quot;,
      &quot;additionalProperties&quot;: true,
      &quot;required&quot;: [&quot;timestamp&quot;],
      &quot;properties&quot;: {
        &quot;timestamp&quot;: {&quot;type&quot;: &quot;string&quot;},
        &quot;ci&quot;: {&quot;type&quot;: &quot;string&quot;},
        &quot;commit_hash&quot;: {&quot;type&quot;: &quot;string&quot;}
      }
    }
  }
}
</code></pre></div></details></li></ul></div><div style="display:contents" dir="auto"><ul id="2f123290-674e-813c-8f9a-f1ae40c23d04" class="toggle"><li><details open=""><summary>Examples (JSON)</summary><div style="display:contents" dir="auto"><h2 id="2f123290-674e-8113-96f5-ca04e7f7bb9e" class="">debate.inputs_for_spec.example.json</h2></div><div style="display:contents" dir="auto"><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="2f123290-674e-81bd-b0f4-c396b0e8a981" class="code code-wrap"><code class="language-JSON" style="white-space:pre-wrap;word-break:break-all">{
  &quot;options&quot;: [
    {
      &quot;id&quot;: &quot;opt_reuse_template&quot;,
      &quot;summary&quot;: &quot;Reuse an existing starter repo and customize.&quot;,
      &quot;pros&quot;: [&quot;Fast delivery&quot;, &quot;Battle-tested structure&quot;],
      &quot;cons&quot;: [&quot;Inherits template constraints&quot;],
      &quot;estimated_cost&quot;: &quot;S-M&quot;,
      &quot;risks&quot;: [&quot;License mismatch&quot;, &quot;Hidden tech debt&quot;]
    }
  ],
  &quot;scoring_rubric&quot;: {
    &quot;criteria&quot;: [&quot;constraint_compliance&quot;, &quot;practicality&quot;, &quot;risk_awareness&quot;, &quot;clarity&quot;],
    &quot;weights&quot;: {&quot;constraint_compliance&quot;: 0.3, &quot;practicality&quot;: 0.25, &quot;risk_awareness&quot;: 0.25, &quot;clarity&quot;: 0.2}
  },
  &quot;decision&quot;: {&quot;chosen_option_id&quot;: &quot;opt_reuse_template&quot;, &quot;tie_break_reason&quot;: &quot;Best time-to-value&quot;},
  &quot;rejected_options&quot;: [{&quot;id&quot;: &quot;opt_build_from_scratch&quot;, &quot;why&quot;: &quot;Too slow for current deadline&quot;}],
  &quot;disagreements&quot;: [],
  &quot;seed_task_outline&quot;: [
    {&quot;owner_lane&quot;: &quot;api&quot;, &quot;title&quot;: &quot;Bootstrap repo + run baseline tests&quot;, &quot;acceptance&quot;: [&quot;CI green&quot;]},
    {&quot;owner_lane&quot;: &quot;security&quot;, &quot;title&quot;: &quot;Run gitleaks + dependency audit&quot;, &quot;acceptance&quot;: [&quot;No secrets&quot;, &quot;No high CVEs&quot;]}
  ],
  &quot;assumptions&quot;: [&quot;We can fork and modify&quot;],
  &quot;open_questions&quot;: [&quot;Do we need multi-tenant?&quot;],
  &quot;non_goals&quot;: [&quot;Perfect design system&quot;],
  &quot;decision_lock&quot;: {&quot;locked&quot;: true, &quot;change_request_process&quot;: &quot;Change requires rerun Debate + update Spec&quot;},
  &quot;provenance&quot;: {&quot;mode&quot;: &quot;ide&quot;, &quot;participants&quot;: [&quot;A&quot;,&quot;B&quot;,&quot;C&quot;,&quot;D&quot;,&quot;Lead&quot;], &quot;model_versions&quot;: {}, &quot;timestamp&quot;: &quot;2026-01-22T00:00:00Z&quot;}
}
</code></pre></div><div style="display:contents" dir="auto"><h2 id="2f123290-674e-81a1-9b0b-ee74ddd73d16" class="">intake.example.json</h2></div><div style="display:contents" dir="auto"><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="2f123290-674e-81b3-9d19-c74193076a9e" class="code code-wrap"><code class="language-JSON" style="white-space:pre-wrap;word-break:break-all">{
  &quot;goal&quot;: &quot;Ship a deployable kit pipeline skeleton.&quot;,
  &quot;users&quot;: [&quot;Nam&quot;, &quot;team&quot;],
  &quot;success_metrics&quot;: [&quot;CI green&quot;, &quot;Can run pipeline end-to-end&quot;],
  &quot;mvp_scope&quot;: [&quot;Contracts + gates&quot;, &quot;One sample run&quot;],
  &quot;non_goals&quot;: [&quot;Perfect UI&quot;],
  &quot;constraints&quot;: [&quot;No hardcoded secrets&quot;, &quot;Deployable doc&quot;],
  &quot;risks&quot;: [&quot;Orchestrator adapter unclear&quot;],
  &quot;open_questions&quot;: [&quot;CI environment?&quot;],
  &quot;sizing&quot;: &quot;M&quot;,
  &quot;execution_mode&quot;: &quot;standard_pipeline&quot;
}
</code></pre></div><div style="display:contents" dir="auto"><h2 id="2f123290-674e-81fb-935d-da430f28bf78" class="">research.reuse_assessment.example.json</h2></div><div style="display:contents" dir="auto"><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="2f123290-674e-81fa-b876-ed2743552422" class="code code-wrap"><code class="language-JSON" style="white-space:pre-wrap;word-break:break-all">{
  &quot;recommended_path&quot;: &quot;reuse&quot;,
  &quot;shortlisted_repo&quot;: {&quot;repo_url&quot;: &quot;https://github.com/example/starter&quot;, &quot;commit_or_tag&quot;: &quot;v1.2.3&quot;},
  &quot;license_check&quot;: {&quot;license&quot;: &quot;MIT&quot;, &quot;policy&quot;: &quot;allowlist&quot;, &quot;status&quot;: &quot;allowed&quot;},
  &quot;baseline_verification&quot;: {&quot;required&quot;: true, &quot;cmds&quot;: [&quot;npm test&quot;], &quot;status&quot;: &quot;pass&quot;, &quot;notes&quot;: &quot;All good&quot;},
  &quot;security_baseline&quot;: {&quot;secret_scan&quot;: &quot;pass&quot;, &quot;dependency_audit&quot;: &quot;pass&quot;, &quot;sbom&quot;: &quot;skipped&quot;},
  &quot;risks&quot;: [&quot;Template assumes Postgres 14&quot;],
  &quot;provenance&quot;: {&quot;timestamp&quot;: &quot;2026-01-22T00:00:00Z&quot;, &quot;commit_hash&quot;: &quot;&lt;git-commit&gt;&quot;}
}
</code></pre></div><div style="display:contents" dir="auto"><h2 id="2f123290-674e-816b-a327-f97130cf6280" class="">research.shortlist.example.json</h2></div><div style="display:contents" dir="auto"><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="2f123290-674e-8134-bee1-d4c0586d34ee" class="code code-wrap"><code class="language-JSON" style="white-space:pre-wrap;word-break:break-all">{
  &quot;problem_summary&quot;: &quot;Build a small internal tool with auth + CRUD + dashboard.&quot;,
  &quot;recommended_path&quot;: &quot;reuse&quot;,
  &quot;rationale&quot;: &quot;Found a mature starter template matching stack and constraints.&quot;,
  &quot;baseline_verification&quot;: {
    &quot;required&quot;: true,
    &quot;cmds&quot;: [&quot;git clone &lt;repo&gt;&quot;, &quot;cd &lt;repo&gt;&quot;, &quot;npm i&quot;, &quot;npm test&quot;]
  },
  &quot;candidates&quot;: [
    {
      &quot;repo_url&quot;: &quot;https://github.com/example/starter&quot;,
      &quot;commit_or_tag&quot;: &quot;v1.2.3&quot;,
      &quot;license&quot;: &quot;MIT&quot;,
      &quot;activity_score&quot;: 0.8,
      &quot;fit_score&quot;: 0.85,
      &quot;security_notes&quot;: &quot;No obvious secrets; run gitleaks + npm audit.&quot;,
      &quot;reuse_candidate&quot;: true,
      &quot;bootstrap_steps&quot;: [&quot;npm i&quot;, &quot;npm test&quot;],
      &quot;baseline_verification&quot;: {&quot;required&quot;: true, &quot;cmds&quot;: [&quot;npm test&quot;]},
      &quot;effort_estimate&quot;: &quot;M&quot;,
      &quot;risks&quot;: [&quot;Template may assume Postgres version &gt;= 14&quot;]
    }
  ],
  &quot;assumptions&quot;: [&quot;We can use Node 20&quot;],
  &quot;open_questions&quot;: [&quot;SSO required?&quot;] ,
  &quot;provenance&quot;: {
    &quot;timestamp&quot;: &quot;2026-01-22T00:00:00Z&quot;,
    &quot;mode&quot;: &quot;standard_pipeline&quot;,
    &quot;model_versions&quot;: {&quot;research&quot;: &quot;namdm-proxy/gpt-5.2&quot;},
    &quot;commit_hash&quot;: &quot;&lt;git-commit&gt;&quot;
  }
}
</code></pre></div><div style="display:contents" dir="auto"><h2 id="2f123290-674e-81fa-b463-cd0d07ae9e3d" class="">task_breakdown.example.json</h2></div><div style="display:contents" dir="auto"><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="2f123290-674e-8186-988f-f1b7a5fe7c72" class="code code-wrap"><code class="language-JSON" style="white-space:pre-wrap;word-break:break-all">{
  &quot;milestones&quot;: [
    {&quot;id&quot;: &quot;M0&quot;, &quot;title&quot;: &quot;Foundation&quot;, &quot;exit_criteria&quot;: [&quot;CI green&quot;], &quot;tasks&quot;: [&quot;api-001&quot;, &quot;security-001&quot;]}
  ],
  &quot;tasks&quot;: [
    {
      &quot;node_id&quot;: &quot;api-001&quot;,
      &quot;title&quot;: &quot;Bootstrap repo + health endpoint&quot;,
      &quot;owner_lane&quot;: &quot;api&quot;,
      &quot;depends_on&quot;: [],
      &quot;parallel_group&quot;: &quot;foundation&quot;,
      &quot;inputs&quot;: [&quot;artifacts/runs/&lt;run_id&gt;/10_intake/intake.json&quot;],
      &quot;artifact_out&quot;: [&quot;artifacts/runs/&lt;run_id&gt;/50_implementation/handoff/api/README.md&quot;],
      &quot;exit_criteria&quot;: [&quot;GET /health returns 200&quot;],
      &quot;validation_cmd&quot;: [&quot;npm test&quot;],
      &quot;rollback_plan&quot;: &quot;Revert commit if baseline fails&quot;
    },
    {
      &quot;node_id&quot;: &quot;security-001&quot;,
      &quot;title&quot;: &quot;Secret scan + dependency audit&quot;,
      &quot;owner_lane&quot;: &quot;security&quot;,
      &quot;depends_on&quot;: [],
      &quot;parallel_group&quot;: &quot;foundation&quot;,
      &quot;inputs&quot;: [&quot;.&quot;] ,
      &quot;artifact_out&quot;: [&quot;artifacts/runs/&lt;run_id&gt;/60_verification/security_review.md&quot;],
      &quot;exit_criteria&quot;: [&quot;No secrets committed&quot;, &quot;No critical CVEs&quot;],
      &quot;validation_cmd&quot;: [&quot;gitleaks detect --no-git&quot;],
      &quot;rollback_plan&quot;: &quot;Block release until mitigated&quot;
    }
  ],
  &quot;provenance&quot;: {&quot;timestamp&quot;: &quot;2026-01-22T00:00:00Z&quot;, &quot;commit_hash&quot;: &quot;&lt;git-commit&gt;&quot;}
}
</code></pre></div><div style="display:contents" dir="auto"><h2 id="2f123290-674e-8125-8735-cc293daf4780" class="">verification.report.example.json</h2></div><div style="display:contents" dir="auto"><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerPolicy="no-referrer"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerPolicy="no-referrer"/><pre id="2f123290-674e-81b7-a9bf-cd42e614a3c3" class="code code-wrap"><code class="language-JSON" style="white-space:pre-wrap;word-break:break-all">{
  &quot;run_id&quot;: &quot;20260122_2200_master-v22&quot;,
  &quot;status&quot;: &quot;fail&quot;,
  &quot;commands&quot;: [
    {&quot;name&quot;: &quot;schema-validate&quot;, &quot;cmd&quot;: &quot;python -m jsonschema ...&quot;, &quot;exit_code&quot;: 0, &quot;duration_ms&quot;: 1200},
    {&quot;name&quot;: &quot;tests&quot;, &quot;cmd&quot;: &quot;pytest -q&quot;, &quot;exit_code&quot;: 1, &quot;duration_ms&quot;: 22000, &quot;logs_path&quot;: &quot;artifacts/runs/&lt;run_id&gt;/60_verification/logs/pytest.txt&quot;}
  ],
  &quot;evidence&quot;: {
    &quot;artifacts&quot;: [&quot;artifacts/runs/&lt;run_id&gt;/60_verification/logs/pytest.txt&quot;],
    &quot;links&quot;: []
  },
  &quot;summary&quot;: {
    &quot;highlights&quot;: [&quot;Schema validation passed&quot;],
    &quot;top_failures&quot;: [&quot;pytest failed: ImportError ...&quot;]
  },
  &quot;provenance&quot;: {&quot;timestamp&quot;: &quot;2026-01-22T00:00:00Z&quot;, &quot;ci&quot;: &quot;github-actions&quot;, &quot;commit_hash&quot;: &quot;&lt;git-commit&gt;&quot;}
}
</code></pre></div></details></li></ul></div><div style="display:contents" dir="auto"><p id="2f123290-674e-8015-bcac-e3b13f7e3a2d" class="">
</p></div></div></article><span class="sans" style="font-size:14px;padding-top:2em"></span></body></html>